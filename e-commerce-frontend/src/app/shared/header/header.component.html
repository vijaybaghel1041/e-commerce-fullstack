<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm py-3 sticky-top border-bottom">
  <div class="container-fluid px-4">
    
    <!-- 🛍️ Brand Logo -->
    <a class="navbar-brand d-flex align-items-center gap-2" routerLink="/">
      <img src="https://cdn-icons-png.freepik.com/512/869/869636.png" alt="logo" width="34" height="34" />
      <span class="fw-bold fs-4 text-primary">e-comm</span>
    </a>

    <!-- ☰ Mobile Toggle -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar"
      aria-controls="mainNavbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar Content -->
    <div class="collapse navbar-collapse" id="mainNavbar">

      <!-- 🔍 Search Bar -->
      <form class="d-flex mx-lg-4 my-3 my-lg-0 flex-grow-1" (submit)="onSearch($event)">
        <input type="search" class="form-control me-2 rounded-pill shadow-sm px-3" 
               [(ngModel)]="searchQuery" name="search"
               placeholder="Search for products, brands and more" aria-label="Search">
        <button class="btn btn-primary rounded-pill px-4 shadow-sm" type="submit">
          <i class="bi bi-search"></i>
        </button>
      </form>

      <!-- Right Actions -->
      <ul class="navbar-nav ms-auto align-items-center gap-3">

        <!-- 🛒 Cart & 📦 Orders (Aligned & Consistent) -->
<li class="nav-item d-flex align-items-center gap-2">

  <!-- Cart -->
  <a routerLink="/cart"
     class="btn btn-outline-primary rounded-pill d-flex align-items-center gap-2 px-3 py-1 position-relative">
    <i class="bi bi-cart4 fs-5"></i>
    <span>Cart</span>
    <!-- <span *ngIf="cartCount() > 0"
      class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
      {{ cartCount() }}
    </span> -->
    <span class="badge bg-light text-dark">{{ cartCount() }}</span>
  </a>

  <!-- Orders -->
  <a routerLink="/my-orders"
     class="btn btn-outline-secondary rounded-pill d-flex align-items-center gap-2 px-3 py-1">
    <i class="bi bi-bag-check-fill text-warning fs-5"></i>
    <span>Orders</span>
    <span class="badge bg-light text-dark">{{ orderCountValue }}</span>
  </a>

</li>


        <!-- 🧰 Admin Dropdown -->
        <li *ngIf="hasAdminOrSellerRole()" class="nav-item dropdown">
          <a class="btn btn-outline-secondary dropdown-toggle rounded-pill px-3 py-1 d-flex align-items-center gap-2"
             href="#" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-box-seam-fill text-success fs-5"></i>
            <span>Manage</span>
          </a>
          <ul class="dropdown-menu shadow-sm">
            <li><a class="dropdown-item" routerLink="/products/create">➕ Create Product</a></li>
            <li><a class="dropdown-item" routerLink="/products/manage">🛠️ Manage Products</a></li>
          </ul>
        </li>

        <!-- 👤 User -->
        <li *ngIf="username(); else guestLinks" class="nav-item dropdown">
          <a class="nav-link dropdown-toggle d-flex align-items-center text-dark" href="#" role="button"
             data-bs-toggle="dropdown">
            <i class="bi bi-person-circle fs-4 text-primary"></i>
            <span class="ms-2 fw-semibold">{{ username() | uppercase }}</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end shadow-sm">
            <li><a class="dropdown-item" (click)="viewProfile()">👤 Profile</a></li>
            <li><a class="dropdown-item" routerLink="wishlist">❤️ Wishlist</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item text-danger" (click)="logout()">🚪 Sign out</a></li>
          </ul>
        </li>

        <!-- 🔘 Guest -->
        <ng-template #guestLinks>
          <li class="nav-item">
            <a class="btn btn-outline-primary rounded-pill px-3 py-1" routerLink="/login">Login</a>
          </li>
        </ng-template>

      </ul>
    </div>
  </div>
</nav>
